<div class="course-selection">
    <h2>Select Course</h2>
    <label for="courses">Courses:</label>
    <select id="courses" [(ngModel)]="selectedCourse">
        <option *ngFor="let course of courses" [value]="course">
          {{ course }}
        </option>
    </select>

    <button mat-button (click)="fetchStudents()">OK</button>
</div>
<div *ngIf="students.length > 0" class="student-list">
    <mat-card>
        <h3>Students enrolled in {{ selectedCourse }}</h3>
        <div class="student-table-container">
            <table mat-table [dataSource]="students" class="mat-elevation-z8">
                <ng-container matColumnDef="first_name">
                    <th mat-header-cell *matHeaderCellDef>First Name</th>
                    <td mat-cell *matCellDef="let student">{{ student.first_name }}</td>
                </ng-container>

                <ng-container matColumnDef="last_name">
                    <th mat-header-cell *matHeaderCellDef>Last Name</th>
                    <td mat-cell *matCellDef="let student">{{ student.last_name }}</td>
                </ng-container>

                <ng-container matColumnDef="register_number">
                    <th mat-header-cell *matHeaderCellDef>Register Number</th>
                    <td mat-cell *matCellDef="let student">{{ student.register_number }}</td>
                </ng-container>

                <ng-container matColumnDef="marks">
                    <th mat-header-cell *matHeaderCellDef>Marks</th>
                    <td mat-cell *matCellDef="let student">
                        <input type="number" [(ngModel)]="student.marks" placeholder="Enter marks" style="width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; box-sizing: border-box; transition: border-color 0.3s ease, transform 0.3s ease;"
                        />
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <!-- Submit changes button -->
            <button mat-button (click)="submitChanges()" style="width: 100%; padding: 12px; background-color: #28a745; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; transition: background-color 0.3s ease, transform 0.3s ease; margin-top: 20px;">Submit All Marks</button>
        </div>
    </mat-card>
</div>